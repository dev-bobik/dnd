<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halfling - D&D 5e</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=Spectral:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        function toggleThemeMenu() {
            const menu = document.getElementById('theme-options');
            menu.classList.toggle('show');
        }
        function selectTheme(theme) {
            document.body.className = '';
            document.body.classList.add(theme + '-theme');
            document.querySelectorAll('.theme-options button').forEach(btn => btn.classList.remove('active'));
            document.getElementById('btn-' + theme).classList.add('active');
            document.getElementById('current-theme-btn').textContent = document.getElementById('btn-' + theme).textContent;
            localStorage.setItem('selectedTheme', theme);
        }
        window.onload = function() {
            const savedTheme = localStorage.getItem('selectedTheme') || 'fantasy';
            selectTheme(savedTheme);
            document.addEventListener('click', function(event) {
                const menu = document.getElementById('theme-options');
                const btn = document.getElementById('current-theme-btn');
                if (!menu.contains(event.target) && event.target !== btn) {
                    menu.classList.remove('show');
                }
            });
            // Oprava pro spr√°vn√© zav√≠r√°n√≠ menu p≈ôi zmƒõnƒõ velikosti okna
            window.addEventListener('resize', function() {
                document.getElementById('theme-options').classList.remove('show');
            });
        };
    </script>
        }

        body.winter-theme {
            --primary: #00bfff;
            --secondary: #4169e1;
            --accent: #87ceeb;
        }

        body.nature-theme {
            --primary: #32cd32;
            --secondary: #228b22;
            --accent: #90ee90;
        }

        body.gothic-theme {
            --primary: #9370db;
            --secondary: #663399;
            --accent: #8b008b;
        }

        body {
            font-family: 'Spectral', serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: var(--text);
            line-height: 1.7;
            min-height: 100vh;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--dark) 100%);
            border-bottom: 2px solid var(--primary);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        nav {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: 2rem;
        }

        .home-btn {
            background: var(--card);
            border: 2px solid var(--primary);
            border-radius: 8px;
            padding: 8px 16px;
            color: var(--accent);
            text-decoration: none;
            font-size: 1.2rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .home-btn:hover {
            background: var(--primary);
            color: var(--text);
            transform: translateY(-2px);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            justify-content: center;
            align-items: center;
            margin: 0;
        }

        .nav-links a {
            color: var(--text);
            text-decoration: none;
            font-size: 1.1rem;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        /* Theme Toggle Dropdown */
        .theme-toggle {
            position: relative;
        }

        .theme-toggle-btn {
            width: 38px;
            height: 38px;
            padding: 0;
            background: var(--primary);
            border: 2px solid var(--primary);
            color: #fff;
            font-size: 1.2rem;
            cursor: pointer;
            border-radius: 50%;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 10px var(--primary);
        }

        .theme-toggle-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px var(--primary);
        }

        .theme-options {
            position: absolute;
            top: 50px;
            right: 0;
            background: var(--card);
            border: 2px solid var(--primary);
            border-radius: 10px;
            padding: 10px;
            display: none;
            flex-direction: column;
            gap: 8px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.8), 0 0 20px var(--primary);
            backdrop-filter: blur(10px);
            z-index: 1002;
        }

        .theme-options.show {
            display: flex;
        }

        .theme-options button {
            width: 42px;
            height: 42px;
            padding: 0;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: #e0e0e0;
            font-size: 1.3rem;
            cursor: pointer;
            border-radius: 50%;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-options button.active {
            background: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 0 15px var(--primary);
            transform: scale(1.1);
        }

        .theme-options button:hover:not(.active) {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
            transform: scale(1.05);
        }

        /* Google Translate */
        #google_translate_element {
            background: transparent;
            padding: 0;
        }

        /* Skr√Ωt text a zobrazit pouze select */
        .goog-te-gadget {
            font-size: 0 !important;
            line-height: 0 !important;
        }

        .goog-te-gadget .goog-te-combo {
            background: var(--card) !important;
            color: var(--text) !important;
            border: 2px solid var(--primary) !important;
            border-radius: 8px !important;
            padding: 8px 12px !important;
            margin: 0 !important;
            font-family: 'Spectral', serif !important;
            font-size: 0.95rem !important;
            cursor: pointer !important;
            transition: all 0.3s !important;
            appearance: none !important;
            -webkit-appearance: none !important;
            -moz-appearance: none !important;
        }

        .goog-te-gadget .goog-te-combo:hover {
            background: var(--primary) !important;
            transform: translateY(-2px) !important;
        }

        .goog-te-gadget .goog-te-combo option {
            background: var(--card) !important;
            color: var(--text) !important;
        }

        /* Skr√Ωt v≈°echen text kromƒõ selectu */
        .goog-te-gadget-simple {
            background-color: transparent !important;
            border: none !important;
            padding: 0 !important;
        }

        .goog-te-gadget span {
            display: none !important;
        }

        .goog-te-gadget > span > a {
            display: none !important;
        }

        .goog-te-gadget > span > span {
            display: none !important;
        }

        .goog-te-gadget .goog-te-combo {
            display: inline-block !important;
        }

        /* Skr√Ωt "Powered by" */
        .goog-logo-link {
            display: none !important;
        }

        .goog-te-gadget-icon {
            display: none !important;
        }

        /* Google Translate Dropdown Menu - dynamick√© barvy podle t√©matu */
        .goog-te-menu2 {
            background: var(--card) !important;
            border: 2px solid var(--primary) !important;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.8), 0 0 20px var(--primary) !important;
        }

        .goog-te-menu2-colpad {
            background: var(--card) !important;
        }

        .goog-te-menu2 table {
            background: var(--card) !important;
        }

        .goog-te-menu2 tbody,
        .goog-te-menu2 tr,
        .goog-te-menu2 td {
            background: var(--card) !important;
        }

        .goog-te-menu-frame {
            background: var(--card) !important;
        }

        iframe.goog-te-menu-frame {
            background: var(--card) !important;
        }

        .goog-te-menu2-item div,
        .goog-te-menu2-item:link div,
        .goog-te-menu2-item:visited div,
        .goog-te-menu2-item:active div {
            color: var(--text) !important;
            background: var(--card) !important;
            border: none !important;
        }

        .goog-te-menu2-item:hover {
            background: var(--primary) !important;
        }

        .goog-te-menu2-item:hover div {
            background: var(--primary) !important;
            color: #fff !important;
        }

        .goog-te-menu2-item-selected {
            background: var(--primary) !important;
        }

        .goog-te-menu2-item-selected div {
            background: var(--primary) !important;
            color: #fff !important;
        }

        /* Skr√Ωt Google Translate banner */
        .goog-te-banner-frame {
            display: none !important;
        }

        body {
            top: 0 !important;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
            display: grid;
            grid-template-columns: 1fr 280px;
            gap: 3rem;
        }

        /* Race Header - Full Width */
        .race-header {
            grid-column: 1 / -1;
            text-align: center;
            margin: -2rem -2rem 3rem -2rem;
            padding: 8rem 2rem 3rem 2rem;
            position: relative;
            background-image: url('../../halfling.png');
            background-size: 110% auto;
            background-position: center 25%;
            background-repeat: no-repeat;
            border-radius: 0;
            overflow: hidden;
            border: none;
            border-bottom: 3px solid var(--primary);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
            min-height: 400px;
        }

        .race-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, 
                rgba(0, 0, 0, 0.3) 0%, 
                rgba(0, 0, 0, 0.6) 50%, 
                rgba(26, 26, 26, 0.95) 100%);
            z-index: 1;
        }

        .race-header > * {
            position: relative;
            z-index: 2;
        }

        .race-title {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            color: #fff;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 4px;
            text-shadow: 0 0 20px var(--primary), 0 4px 10px rgba(0, 0, 0, 0.8);
        }
        
        /* Main Content */
        .main {
            background: rgba(36, 36, 36, 0.5);
            border-radius: 12px;
            padding: 3rem;
            border: 1px solid var(--border);
        }

        /* Section Headers */
        h1 {
            font-family: 'Cinzel', serif;
            color: var(--primary);
            font-size: 2rem;
            margin: 2.5rem 0 1.5rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        h2 {
            font-family: 'Cinzel', serif;
            color: var(--accent);
            font-size: 1.5rem;
            margin: 2rem 0 1rem 0;
            padding-left: 1rem;
            border-left: 4px solid var(--accent);
        }

        /* Content */
        p {
            margin-bottom: 1rem;
            font-size: 1.05rem;
        }

        ul {
            list-style: none;
            padding: 0;
            margin: 1rem 0;
        }

        li {
            margin: 0.8rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        li:before {
            content: "‚ñ∏";
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: bold;
        }

        strong {
            color: var(--accent);
            font-weight: 600;
        }

        em {
            color: var(--text-dim);
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: rgba(0, 0, 0, 0.3);
        }

        thead {
            background: var(--primary);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border: 1px solid var(--border);
        }

        th {
            color: white;
            font-family: 'Cinzel', serif;
            font-weight: 600;
        }

        tbody tr:nth-child(even) {
            background: rgba(0, 0, 0, 0.2);
        }

        /* Sidebar */
        .sidebar {
            position: sticky;
            top: 120px;
            align-self: start;
        }

        .toc {
            background: rgba(36, 36, 36, 0.8);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid var(--border);
        }

        .toc h3 {
            font-family: 'Cinzel', serif;
            color: var(--primary);
            font-size: 1.2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary);
        }

        .toc ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .toc li {
            padding: 0;
            margin: 0;
        }

        .toc li:before {
            display: none;
        }

        .toc a {
            display: block;
            padding: 0.5rem 0;
            color: var(--text-dim);
            text-decoration: none;
            transition: all 0.3s;
            font-size: 0.95rem;
        }

        .toc a:hover {
            color: var(--primary);
            padding-left: 0.5rem;
        }

        .toc .toc-subitem {
            padding-left: 1rem;
            font-size: 0.9rem;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                position: relative;
                top: 0;
            }

            .main {
                padding: 2rem;
            }

            .race-title {
                font-size: 2rem;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }

            .nav {
                flex-wrap: wrap;
                justify-content: center;
                gap: 1rem;
            }

            .main {
                padding: 1.5rem;
            }

            .race-title {
                font-size: 1.8rem;
            }

            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.2rem;
            }
        }

        /* Variant Box */
        .variant-section {
            background: rgba(0, 0, 0, 0.3);
            border-left: 4px solid var(--accent);
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 0 8px 8px 0;
        }
    </style>
</head>
<body>

<!-- Header -->
<header class="header">
    <nav>
        <a href="../../index.html" class="home-btn">
            <i class="fas fa-home"></i>
            Home
        </a>
        <ul class="nav-links">
            <li><a href="../../rules.html">Rules</a></li>
            <li><a href="../../lineages.html">All Races</a></li>
        </ul>
        <div class="nav-right">
            <div class="theme-toggle">
                <button class="theme-toggle-btn" onclick="toggleThemeMenu()" id="current-theme-btn" title="Change Theme">üêâ</button>
                <div class="theme-options" id="theme-options">
                    <button onclick="selectTheme('fantasy')" class="active" id="btn-fantasy" title="Fantasy">üêâ</button>
                    <button onclick="selectTheme('steampunk')" id="btn-steampunk" title="Steampunk">‚öôÔ∏è</button>
                    <button onclick="selectTheme('winter')" id="btn-winter" title="Winter">‚ùÑÔ∏è</button>
                    <button onclick="selectTheme('nature')" id="btn-nature" title="Nature">üåø</button>
                    <button onclick="selectTheme('gothic')" id="btn-gothic" title="Gothic">ü¶á</button>
                </div>
            </div>
            <div id="google_translate_element"></div>
        </div>
    </nav>
</header>

<!-- Main Container -->
<div class="container">
    <!-- Main Content -->
    <main class="main">
        <div class="race-header">
            <h1 class="race-title">Halfling</h1>
        </div>

        <h1 id="phb">Player's Handbook</h1>
        <p><em>The comforts of home are the goals of most halflings' lives: a place to settle in peace and quiet, far from marauding monsters and clashing armies. Others form nomadic bands that travel constantly, lured by the open road and the wide horizon to discover the wonders of new lands and peoples. Halflings work readily with others, and they are loyal to their friends, whether halfling or otherwise. They can display remarkable ferocity when their friends, families, or communities are threatened.</em></p>

        <ul>
            <li><strong>Ability Score Increase.</strong> Your Dexterity score increases by 2.</li>
            <li><strong>Age.</strong> A halfling reaches adulthood at the age of 20 and generally lives into the middle of his or her second century.</li>
            <li><strong>Alignment.</strong> Most halflings are lawful good. As a rule, they are good-hearted and kind, hate to see others in pain, and have no tolerance for oppression. They are also very orderly and traditional, leaning heavily on the support of their community and the comfort of the old ways.</li>
            <li><strong>Size.</strong> Halflings average about 3 feet tall and weigh about 40 pounds. Your size is small.</li>
            <li><strong>Speed.</strong> Your base walking speed is 25 feet.</li>
            <li><strong>Lucky.</strong> When you roll a 1 on an attack roll, ability check, or saving throw, you can reroll the die. You must use the new result, even if it is a 1.</li>
            <li><strong>Brave.</strong> You have advantage on saving throws against being frightened.</li>
            <li><strong>Nimble.</strong> You can move through the space of any creature that is of a size larger than yours.</li>
            <li><strong>Languages.</strong> You can speak, read, and write Common and Halfling.</li>
        </ul>

        <h2 id="lightfoot">Lightfoot</h2>
        <p><em>As a lightfoot halfling, you can easily hide from notice, even using other people as cover. You're inclined to be affable and get along well with others. In the Forgotten Realms, lightfoot halflings have spread the farthest and thus are the most common variety.</em></p>
        <p><em>Lightfoots are more prone to wanderlust than other halflings, and often dwell alongside other races or take up a nomadic life. In the world of Grayhawk, these halflings are called hairfeet or tallfellows.</em></p>

        <ul>
            <li><strong>Ability Score Increase.</strong> Your Charisma score increases by 1.</li>
            <li><strong>Naturally Stealthy.</strong> You can attempt to hide even when you are only obscured by a creature that is at least one size larger than you.</li>
        </ul>

        <h2 id="stout">Stout</h2>
        <p><em>As a stout halfling, you're hardier than average and have some resistance to poison. Some say that stouts have dwarven blood. In the Forgotten Realms, these halflings are called stronghearts, and they're most common in the south.</em></p>

        <ul>
            <li><strong>Ability Score Increase.</strong> Your Constitution score increases by 1.</li>
            <li><strong>Stout Resilience.</strong> You have advantage on saving throws against poison, and you have resistance to poison damage.</li>
        </ul>

        <h1 id="scag">Sword Coast Adventurer's Guide</h1>
        
        <h2 id="ghostwise">Ghostwise</h2>
        <p><em>Ghostwise halflings trace their ancestry back to a war among halfling tribes that sent their ancestors into flight from Luiren. Ghostwise halflings are the rarest of the hin, found only in the Chondalwood and a few other isolated forests, clustered in tight-knit clans.</em></p>
        <p><em>Many ghostwise clans select a natural landmark as the center of their territory, and members carry a piece of that landmark with them at all times. Clan warriors known as nightgliders bond with and ride giant owls as mounts.</em></p>
        <p><em>Because these folk are clannish and mistrustful of outsiders, ghostwise halfling adventurers are rare. Ask your DM if you can play a member of this subrace, which has the halfling traits in the Player's Handbook, plus the subrace traits below.</em></p>

        <ul>
            <li><strong>Ability Score Increase.</strong> Your Wisdom score increases by 1.</li>
            <li><strong>Silent Speech.</strong> You can speak telepathically to any creature within 30 feet of you. The creature understands you only if the two of you share a language. You can speak telepathically in this way to one creature at a time.</li>
        </ul>

        <h1 id="wildemount">Explorer's Guide to Wildemount</h1>
        
        <h2 id="lotusden">Lotusden</h2>
        <p><em>Long tied to the natural heart of the Lotusden Greenwood, these halflings have adapted to live synergistically with the chaotic laws of the wilds.</em></p>

        <ul>
            <li><strong>Ability Score Increase.</strong> Your Wisdom score increases by 1.</li>
            <li><strong>Children of the Woods.</strong> You know the Druidcraft Cantrip. At 3rd level, you can cast the Entangle spell once per long rest. At 5th level, you can cast Spike Growth spell once per long rest. These spells don't require the material components normally required. Wisdom is your spellcasting ability for these spells.</li>
            <li><strong>Timberwalk.</strong> Ability checks made to track you are at disadvantage and you can move through difficult terrain made of non-magical plants and overgrowth without expending extra movement.</li>
        </ul>

        <h1 id="eberron">Eberron: Rising from the Last War</h1>
        
        <h2 id="mark-hospitality">Mark of Hospitality</h2>
        <p><em>If you're a halfling with the Mark of Hospitality, you have this subrace, with the following traits.</em></p>

        <ul>
            <li><strong>Ability Score Increase.</strong> Your Charisma score increases by 1.</li>
            <li><strong>Ever Hospitable.</strong> Whenever you roll a Charisma (Persuasion) check or an ability check involving Brewer's Tools or Cook's Utensils, roll a d4 and add the number rolled to the total ability check.</li>
            <li><strong>Innkeeper's Magic.</strong> You know the Prestidigitation cantrip. You can also cast Purify Food and Drink and Unseen Servant with this trait. Once you cast either spell with this trait, you can't cast that spell again until you finish a long rest. Charisma is your Spellcasting Ability for these spells.</li>
            <li><strong>Spells of the Mark.</strong> If you have the Spellcasting or Pact Magic class features, the spells on the Mark of Hospitality Spells table are added to the spell list of your spellcasting class.</li>
        </ul>

        <table>
            <thead>
                <tr>
                    <th>Spell Level</th>
                    <th>Spell</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1st</td>
                    <td>Goodberry, Sleep</td>
                </tr>
                <tr>
                    <td>2nd</td>
                    <td>Aid, Calm Emotions</td>
                </tr>
                <tr>
                    <td>3rd</td>
                    <td>Create Food and Water, Leomund's Tiny Hut</td>
                </tr>
                <tr>
                    <td>4th</td>
                    <td>Aura of Purity, Mordenkainen's Private Sanctum</td>
                </tr>
                <tr>
                    <td>5th</td>
                    <td>Hallow</td>
                </tr>
            </tbody>
        </table>

        <h2 id="mark-healing">Mark of Healing</h2>
        <p><em>If you're a halfling with the Mark of Healing, you have this subrace, with the following traits.</em></p>

        <ul>
            <li><strong>Ability Score Increase.</strong> Your Wisdom score increases by 1.</li>
            <li><strong>Medical Intuition.</strong> Whenever you roll a Wisdom (Medicine) check or an ability check involving an Herbalism Kit, roll a d4 and add the number rolled to the total ability check.</li>
            <li><strong>Healing Touch.</strong> You can cast the Cure Wounds spell with this trait. Beginning at 3rd level, you can also cast the Lesser Restoration spell with this trait. Once you cast either spell with this trait, you can't cast that spell again until you finish a long rest. Wisdom is your Spellcasting Ability for these spells.</li>
            <li><strong>Spells of the Mark.</strong> If you have the Spellcasting or Pact Magic class features, the spells on the Mark of Healing Spells table are added to the spell list of your spellcasting class.</li>
        </ul>

        <table>
            <thead>
                <tr>
                    <th>Spell Level</th>
                    <th>Spell</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1st</td>
                    <td>Cure Wounds, Healing Word</td>
                </tr>
                <tr>
                    <td>2nd</td>
                    <td>Lesser Restoration, Prayer of Healing</td>
                </tr>
                <tr>
                    <td>3rd</td>
                    <td>Aura of Vitality, Mass Healing Word</td>
                </tr>
                <tr>
                    <td>4th</td>
                    <td>Aura of Purity, Aura of Life</td>
                </tr>
                <tr>
                    <td>5th</td>
                    <td>Greater Restoration</td>
                </tr>
            </tbody>
        </table>

    </main>

    <!-- Sidebar -->
    <aside class="sidebar">
        <nav class="toc">
            <h3>Contents</h3>
            <ul>
                <li><a href="#phb">Player's Handbook</a></li>
                <li class="toc-subitem"><a href="#lightfoot">Lightfoot</a></li>
                <li class="toc-subitem"><a href="#stout">Stout</a></li>
                <li><a href="#scag">Sword Coast</a></li>
                <li class="toc-subitem"><a href="#ghostwise">Ghostwise</a></li>
                <li><a href="#wildemount">Wildemount</a></li>
                <li class="toc-subitem"><a href="#lotusden">Lotusden</a></li>
                <li><a href="#eberron">Eberron</a></li>
                <li class="toc-subitem"><a href="#mark-hospitality">Mark of Hospitality</a></li>
                <li class="toc-subitem"><a href="#mark-healing">Mark of Healing</a></li>
            </ul>
        </nav>
    </aside>
</div>

<script>
    // Theme Management
    function toggleThemeMenu() {
        document.getElementById('theme-menu').classList.toggle('show');
    }

    function selectTheme(theme) {
        // Remove all theme classes
        document.body.className = '';
        
        // Add selected theme class
        document.body.classList.add(theme + '-theme');
        
        // Update active button
        document.querySelectorAll('.theme-option').forEach(btn => {
            btn.classList.remove('active');
        });
        document.getElementById('btn-' + theme).classList.add('active');
        
        // Update main theme button emoji
        const emojis = {
            'fantasy': 'üêâ',
            'steampunk': '‚öô',
            'winter': '‚ùÑÔ∏è',
            'nature': 'üåø',
            'gothic': 'ü¶á'
        };
        document.getElementById('current-theme').textContent = emojis[theme];
        
        // Save theme preference
        localStorage.setItem('dnd-theme', theme);
        
        // Close menu
        document.getElementById('theme-menu').classList.remove('show');
    }

    // Load saved theme on page load
    window.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('dnd-theme') || 'fantasy';
        selectTheme(savedTheme);
    });

    // Close theme menu when clicking outside
    document.addEventListener('click', (e) => {
        const themeToggle = document.querySelector('.theme-toggle');
        if (!themeToggle.contains(e.target)) {
            document.getElementById('theme-menu').classList.remove('show');
        }
    });
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>
